<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REBT – Previsión de cargas</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2563eb">

  <link rel="stylesheet" href="styles.css">
</head>





<body class="bg-gray-100">

  <!-- HEADER FIJO -->
  <header class="bg-gray-100 p-4 shadow-sm sticky top-0 z-10">
    <h1 class="text-2xl sm:text-3xl font-bold">
      Previsión de cargas
    </h1>
  </header>

  <!-- CONTENEDOR DE PANTALLAS -->
  

<main class="h-[calc(100dvh-72px)] overflow-y-auto snap-y snap-mandatory">

  <!-- BOTON de VOLVER -->


  <!-- PANTALLA 1 · PVIV -->
  <section class="screen min-w-full snap-start">
     <!-- =========================
         PANTALLA 1 · PVIV
    ========================== -->
    
      <div class="bg-white p-4 rounded-2xl shadow h-full flex flex-col">


        <!-- Botón volver -->
    <div>
      <a href="index.html" 
         class="inline-block bg-gray-200 px-3 py-1 rounded text-sm hover:bg-gray-300">
         ← Volver
      </a>
    </div><br>




        <h2 class="text-xl font-semibold mb-3">
          Viviendas (P<sub>V</sub>)
        </h2>

        <!-- Slider horizontal -->
        <div class="flex-1 flex gap-4 overflow-x-auto snap-x snap-mandatory">

          <!-- Card 1.1 · Cálculo -->
          <div class="card min-w-full snap-start border rounded-xl p-4">
            <h3 class="text-lg font-semibold mb-3">Cálculo</h3>

            <div class="mb-4 text-sm text-gray-700">
              <div class="font-semibold mb-1">Fórmula: Ejemplo</div>
              <div class="formula">
                <span><strong>P<sub>V</sub></strong> =</span>
                <span class="paren">(</span>
                <div class="flex flex-col items-center leading-tight">
                  <div class="px-2 border-b border-gray-400">
                    <strong>N<sub>b</sub></strong> · Potencia IGA + <strong>N<sub>e</sub></strong> · Potencia IGA
                  </div>
                  <div class="px-2">
                    <strong>N<sub>b</sub></strong> + <strong>N<sub>e</sub></strong>
                  </div>
                </div>
                <span class="paren">)</span>
                <span class="ml-1">· <strong>k<sub>s</sub></strong></span>
              </div>
            </div>

            <div class="mb-2 text-sm text-gray-700">
              <div class="font-semibold mb-1">Tu cálculo:</div>

              <div class="formula mb-1">
                <span>P<sub>V</sub> =</span>
                <span class="paren">(</span>
                <div class="flex flex-col items-center leading-tight">
                  <div class="px-1 border-b border-gray-400">
                    <span id="vb" class="editable">0</span> · 
<select id="potBasica" class="border rounded px-1 text-xs">
  <option value="5750">5.750</option>
  <option value="7360">7.360</option>
  <option value="4600">4.600</option>
</select>
+
<span id="ve" class="editable">0</span> · 
<select id="potElevada" class="border rounded px-1 text-xs">
  <option value="9200">9.200</option>
  <option value="11500">11.500</option>
  <option value="14490">14.490</option>
</select>

                  </div>
                  <div class="px-1">
                    <span id="nViv">0</span>
                  </div>
                </div>
                <span class="paren">)</span>
              </div>

              <div class="formula">
                <span>P<sub>V</sub> =</span>
                <span id="pMedia" class="font-semibold">0</span>
                <span>·</span>
                <span id="ks" class="editable">0</span>
              </div>

              <div class="text-[10px] text-gray-500 mt-1">
                n = N<sub>b</sub> + N<sub>e</sub> = <span id="nViv2">0</span>
              </div>
            </div>

            <p class="mt-2 text-sm">
              Resultado: <strong><span id="pv">0</span> W</strong>
            </p>
          </div>

          <!-- Card 1.2 · Coeficientes -->
          <div class="card min-w-full snap-start border rounded-xl p-3 overflow-x-auto">
            <h4 class="font-semibold mb-2 text-sm">Coeficientes de simultaneidad</h4>
                <!-- tu tabla de coeficientes aquí --><table class="w-full text-sm border tabla-coeficientes"> <thead class="bg-gray-100 text-center"> <tr> <th class="border p-2">n</th> <th class="border p-2">kₛ</th> <th class="border p-2">n</th> <th class="border p-2">kₛ</th> </tr> </thead> <tbody class="text-center"> <tr><td class="border p-2">1</td><td class="border p-2">1</td><td class="border p-2">12</td><td class="border p-2">9,9</td></tr> <tr><td class="border p-2">2</td><td class="border p-2">2</td><td class="border p-2">13</td><td class="border p-2">10,6</td></tr> <tr><td class="border p-2">3</td><td class="border p-2">3</td><td class="border p-2">14</td><td class="border p-2">11,3</td></tr> <tr><td class="border p-2">4</td><td class="border p-2">3,8</td><td class="border p-2">15</td><td class="border p-2">11,9</td></tr> <tr><td class="border p-2">5</td><td class="border p-2">4,6</td><td class="border p-2">16</td><td class="border p-2">12,5</td></tr> <tr><td class="border p-2">6</td><td class="border p-2">5,4</td><td class="border p-2">17</td><td class="border p-2">13,1</td></tr> <tr><td class="border p-2">7</td><td class="border p-2">6,2</td><td class="border p-2">18</td><td class="border p-2">13,7</td></tr> <tr><td class="border p-2">8</td><td class="border p-2">7</td><td class="border p-2">19</td><td class="border p-2">14,3</td></tr> <tr><td class="border p-2">9</td><td class="border p-2">7,8</td><td class="border p-2">20</td><td class="border p-2">14,8</td></tr> <tr><td class="border p-2">10</td><td class="border p-2">8,5</td><td class="border p-2">21</td><td class="border p-2">15,3</td></tr> <tr><td class="border p-2">11</td><td class="border p-2">9,2</td><td class="border p-2">&gt;21</td><td class="border p-2">15,3 + (n-21)·0,5</td></tr> </tbody> </table>

          </div>

          <!-- Card 1.3 · Potencias -->
          <div class="card min-w-full snap-start border rounded-xl p-3 overflow-x-auto">
            <h4 class="font-semibold mb-2 text-sm">Potencias por electrificación</h4>
            <!-- (Tu tabla completa aquí --><table class="w-full text-sm border"> <thead class="bg-gray-100 text-center"> <tr> <th class="border p-2">Tipo</th> <th class="border p-2">Potencia</th> <th class="border p-2">IGA</th> </tr> </thead> <tbody class="text-center"> <tr class="bg-blue-50"><td class="border p-2">Básica</td><td class="border p-2">5.750 W</td><td class="border p-2">25 A</td></tr> <tr class="bg-blue-100"><td class="border p-2">Básica</td><td class="border p-2">7.360 W</td><td class="border p-2">32 A</td></tr> <tr class="bg-green-50"><td class="border p-2">Elevada</td><td class="border p-2">9.200 W</td><td class="border p-2">40 A</td></tr> <tr class="bg-green-100"><td class="border p-2">Elevada</td><td class="border p-2">11.500 W</td><td class="border p-2">50 A</td></tr> <tr class="bg-green-200 font-semibold"><td class="border p-2">Elevada</td><td class="border p-2">14.490 W</td><td class="border p-2">63 A</td></tr> </tbody> </table>

          </div>

        </div>
      </div>
    </section>
  

  <!-- PANTALLA 2 · ASCENSOR -->
  <section class="screen min-w-full snap-start">
     <!-- =========================
         PANTALLA 2 · ASCENSORES
    ========================== -->
    
      <div class="bg-white p-4 rounded-2xl shadow h-full flex flex-col">

        <h2 class="text-xl font-semibold mb-3">
          Servicios generales – Ascensores (P<sub>SG</sub>)
        </h2>

        <div class="flex-1 flex gap-4 overflow-x-auto snap-x snap-mandatory">

          <!-- Card 2.1 · Cálculo ascensores -->
          <div class="card min-w-full snap-start border rounded-xl p-4">
            <h3 class="text-lg font-semibold mb-3">Cálculo – Ascensores</h3>

            <p class="text-sm text-gray-600 mb-3">
              Introduce la potencia de cada ascensor (kW).  
              El coeficiente <strong>1,3</strong> se aplicará solo al ascensor de mayor potencia.
            </p>

            <table class="w-full text-sm border mb-3">
              <thead class="bg-gray-100 text-center">
                <tr>
                  <th class="border p-2">Ascensor</th>
                  <th class="border p-2">Potencia (kW)</th>
                  <th class="border p-2"></th>
                </tr>
              </thead>
              <tbody id="ascTable" class="text-center">
                <tr>
                  <td class="border p-2">1</td>
                  <td class="border p-2">
                    <input type="number" step="0.1"
                           class="w-full text-center border rounded p-1 asc-input"
                           placeholder="0">
                  </td>
                  <td class="border p-2">kW</td>
                </tr>
              </tbody>
            </table>

            <button id="addAsc"
              class="mb-3 px-3 py-1 rounded bg-blue-100 text-blue-800 text-sm">
              + Añadir ascensor
            </button>

            <div class="text-sm space-y-1">
              <div>Suma total: <strong><span id="ascSum">0</span> kW</strong></div>
              <div>Mayor potencia: <strong><span id="ascMax">0</span> kW</strong></div>
              <div class="mt-1">
                P<sub>SG</sub> =
                <span id="ascBase">0</span> +
                (<span id="ascMax2">0</span> · 1,3)
              </div>
              <div class="mt-2 text-base">
                Resultado: <strong><span id="pAscTotal">0</span> W</strong>
              </div>
            </div>
          </div>

          <!-- Card 2.2 · Potencias ascensores -->
          <div class="card min-w-full snap-start border rounded-xl p-3 overflow-x-auto">
            <!-- (Aquí va tu tabla de ITA-1 … ITA-6 completa) -->
            <h4 class="font-semibold mb-2 text-sm">
    Potencias de ascensores y montacargas
  </h4>
<div class="w-full overflown-x-auto">
  <table class="w-full min-w[360px] text-xs border-collapse">
    <thead class="bg-blue-100 text-gray-800 text-center">
      <tr>
        <th class="border p-2">Tipo</th>
        <th class="border p-2">Carga (kg)</th>
        <th class="border p-2">Nº personas</th>
        <th class="border p-2">Velocidad</th>
        <th class="border p-2">Potencia</th>
      </tr>
    </thead>
    <tbody class="text-center">
      <tr class="bg-blue-50">
        <td class="border p-2 font-semibold">ITA-1</td>
        <td class="border p-2">400</td>
        <td class="border p-2">5</td>
        <td class="border p-2">0,63 m/s</td>
        <td class="border p-2">4,5 kW</td>
      </tr>
      <tr class="bg-white">
        <td class="border p-2 font-semibold">ITA-2</td>
        <td class="border p-2">400</td>
        <td class="border p-2">5</td>
        <td class="border p-2">1,00 m/s</td>
        <td class="border p-2">7,5 kW</td>
      </tr>
      <tr class="bg-green-50">
        <td class="border p-2 font-semibold">ITA-3</td>
        <td class="border p-2">630</td>
        <td class="border p-2">8</td>
        <td class="border p-2">1,00 m/s</td>
        <td class="border p-2">11,5 kW</td>
      </tr>
      <tr class="bg-green-100">
        <td class="border p-2 font-semibold">ITA-4</td>
        <td class="border p-2">630</td>
        <td class="border p-2">8</td>
        <td class="border p-2">1,60 m/s</td>
        <td class="border p-2">18,5 kW</td>
      </tr>
      <tr class="bg-green-200">
        <td class="border p-2 font-semibold">ITA-5</td>
        <td class="border p-2">1.000</td>
        <td class="border p-2">13</td>
        <td class="border p-2">1,60 m/s</td>
        <td class="border p-2">29,5 kW</td>
      </tr>
      <tr class="bg-green-300 font-semibold">
        <td class="border p-2">ITA-6</td>
        <td class="border p-2">1.000</td>
        <td class="border p-2">13</td>
        <td class="border p-2">2,50 m/s</td>
        <td class="border p-2">46,0 kW</td>
      </tr>
    </tbody>
  </table>
          </div>

          <!-- Card 2.3 · Coeficientes ascensores -->
          <div class="card min-w-full snap-start border rounded-xl p-4 bg-white">
            <!-- (Aquí va tu bloque explicativo completo) --><h4 class="font-semibold mb-3 text-sm">
    Coeficiente – Ascensores
  </h4>

  <div class="border-2 border-gray-400 rounded-lg p-3 text-sm text-gray-800 relative">

    <!-- Pico decorativo -->
    <div class="absolute -top-3 left-6 w-4 h-4 bg-white border-l-2 border-t-2 border-gray-400 rotate-45"></div>

    <p class="mb-2 font-medium">
      Para el cálculo de la máxima intensidad de la corriente de arranque:
    </p>

    <ul class="list-disc pl-5 space-y-2">
      <li>
        La intensidad nominal a plena carga se multiplica por
        <span class="bg-yellow-200 px-1 rounded font-semibold">1,3</span>.
      </li>
      <li>
        En caso de existir varios ascensores, el coeficiente
        <span class="bg-yellow-200 px-1 rounded font-semibold">1,3</span>
        se aplica <strong>únicamente al ascensor de mayor potencia</strong>.
      </li>
      <li>
        El resto de ascensores se suman sin coeficiente.
      </li>
    </ul>

    <p class="mt-3 text-xs text-gray-600">
      (Apdo. 6 de la ITC-BT-47)
    </p>

    <div class="mt-3 text-xs bg-gray-50 p-2 rounded border">
      <strong>Ejemplo:</strong><br>
      Ascensores: 7,5 kW · 11,5 kW · 18,5 kW<br>
      P<sub>SG</sub> = (18,5 · 1,3) + 11,5 + 7,5

          </div>

        </div>
      </div>
    </section>
  

  <!-- PANTALLA 3 · GRUPO DE PRESIÓN -->
    <!-- =========================
         PANTALLA 3 · GRUPO DE PRESIÓN
    ========================== -->
    
    <section class="screen min-w-full snap-start">

  <div class="bg-white min-h-full p-6">

    <h2 class="text-2xl font-semibold mb-2">
      Servicios generales – Grupo de presión (P<sub>SG</sub>)
    </h2>

    <h3 class="text-lg font-medium mt-4 mb-2">
      Cálculo – Grupo de presión
    </h3>

    <p class="text-sm text-gray-600 mb-4">
      Introduce la potencia de cada grupo (W o CV).  
      El coeficiente <strong>1,25</strong> se aplicará solo al grupo de mayor potencia.
    </p>

    <div id="gpList" class="space-y-3">

      <div class="flex items-center gap-3">
        <span class="w-10 text-center">1</span>

        <input type="number" step="0.1"
               class="gpPower flex-1 border rounded p-2 text-center"
               placeholder="0">

        <select class="gpUnit border rounded p-2">
          <option value="w">W</option>
          <option value="cv">CV</option>
        </select>
      </div>

    </div>

    <button onclick="agregarGrupo()"
            class="mt-4 bg-blue-100 text-blue-700 px-4 py-2 rounded">
      + Añadir grupo
    </button>

    <div class="mt-6 text-sm space-y-1">
      <p>Suma total: <strong><span id="gpSuma">0</span> W</strong></p>
      <p>Mayor potencia: <strong><span id="gpMayor">0</span> W</strong></p>
      <p>P<sub>SG</sub> = Suma + (Mayor · 0,25)</p>
      <p class="text-lg font-bold">
        Resultado: <span id="gpResultado">0</span> W
      </p>
    </div>

    <p class="text-xs text-gray-500 mt-4">
      1 CV = 736 W
    </p>

  </div>

</section>


  
  
  
  

    <!-- PANTALLA 4 · GRUPO DE PRESIÓN -->
   <section class="screen min-w-full snap-start">
    <!-- =========================
         PANTALLA 4 · ALUMBRADO
    ========================== -->
    
      <div class="bg-white p-4 rounded-2xl shadow h-full flex flex-col">

        <h2 class="text-xl font-semibold mb-3">
          Servicios generales – Alumbrado (P<sub>AL</sub>)
        </h2>

        <div class="flex-1 flex gap-4 overflow-x-auto snap-x snap-mandatory">

          <!-- Card 4.1 · Cálculo alumbrado -->
          <div class="card min-w-full snap-start border rounded-xl p-4 bg-white">
            <h3 class="text-lg font-semibold mb-3">
              Cálculo – Alumbrado (P<sub>AL</sub>)
            </h3>

            <div class="text-sm text-gray-700 mb-2">
  <div class="font-semibold mb-1">Tu cálculo:</div>

  <div class="flex items-center gap-2 mb-2 flex-wrap">
    <span>P<sub>AL</sub> =</span>

    <input id="alArea" type="number"
           class="w-20 text-center border rounded p-1"
           placeholder="m²">

    <span>·</span>

    <input id="alCoef" type="number" step="0.1"
           class="w-16 text-center border rounded p-1"
           placeholder="W/m²">

    <select id="alType" class="border rounded p-1 text-sm">
      <option value="normal">Incandescencia / halógena</option>
      <option value="descarga">Fluorescencia / LED (descarga)</option>
    </select>

    <span id="alExtra" class="hidden">· 1,8</span>
  </div>

  <p class="text-xs text-gray-500">
    Nota: Para lámparas de descarga (fluorescencia y LED) se aplica un
    coeficiente de <strong>1,8</strong> según Apdo. 3.1, ITC-BT-44.
  </p>
</div>

<p class="mt-2 text-sm">
  Resultado: <strong><span id="pAlTotal">0</span> W</strong>
</p>



          </div>

          <!-- Card 4.2 · Potencias alumbrado -->
          <div class="card min-w-full snap-start border rounded-xl p-3 bg-white overflow-x-auto">
            <h4 class="font-semibold mb-2 text-sm">
              Potencias de alumbrado
            </h4>

            <table class="w-full text-sm border rounded-lg overflow-hidden">
              <thead class="bg-blue-100 text-center">
                <tr>
                  <th class="border p-2">Tipo</th>
                  <th class="border p-2">Potencia</th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr class="bg-blue-50">
                  <td class="border p-2">Incandescencia</td>
                  <td class="border p-2">15 W/m²</td>
                </tr>
                <tr class="bg-blue-100">
                  <td class="border p-2">Incandescencia</td>
                  <td class="border p-2">7 W/m²</td>
                </tr>
                <tr class="bg-green-100">
                  <td class="border p-2">Fluorescencia</td>
                  <td class="border p-2">8 W/m²</td>
                </tr>
                <tr class="bg-green-200 font-semibold">
                  <td class="border p-2">Fluorescencia</td>
                  <td class="border p-2">4 W/m²</td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>
      </div>
    </section>
    

    <!-- PANTALLA 5 · GRUPO DE PRESIÓN -->
   <section class="screen min-w-full snap-start">
    <!-- =========================
         PANTALLA 5 · LOCALES Y OFICINAS

    Card 5.1 · Cálculo -->
    
    <div class="card min-w-full snap-start border rounded-xl p-4 bg-white">
  <h3 class="text-lg font-semibold mb-3">
    Cálculo – Locales y oficinas
  </h3>

  <!-- Fórmula gráfica -->
  <div class="mb-3 text-sm text-gray-700">
    <div class="font-semibold mb-1">Fórmula ITC-BT-10</div>
    <div class="formula">
      <span><strong>P<sub>LC</sub></strong> =</span>
      <span class="ml-1">Σ</span>
      <span class="ml-1">(</span>
      <span class="ml-1"><strong>S</strong><sub>i</sub></span>
      <span class="ml-1">·</span>
      <span class="ml-1"><strong>W</strong><sub>i</sub></span>
      <span class="ml-1">)</span>
      <span class="ml-2 text-xs text-gray-500">
        con P<sub>i</sub> ≥ 3.450 W
      </span>
    </div>
  </div>

  <p class="text-sm text-gray-600 mb-3">
    Introduce la superficie y la potencia específica de cada local.
    Si el resultado de un local es inferior a
    <strong>3.450 W</strong>, se aplicará automáticamente ese valor mínimo.
  </p>

  <table class="w-full text-sm border mb-3">
    <thead class="bg-gray-100 text-center">
      <tr>
        <th class="border p-2">Local</th>
        <th class="border p-2">Superficie (m²)</th>
        <th class="border p-2">W/m²</th>
        <th class="border p-2">Potencia aplicada (W)</th>
      </tr>
    </thead>
    <tbody id="lcTable" class="text-center">
      <tr>
        <td class="border p-2">1</td>
        <td class="border p-2">
          <input type="number"
                 class="w-full text-center border rounded p-1 lc-area"
                 placeholder="0">
        </td>
        <td class="border p-2">
          <input type="number"
                 class="w-full text-center border rounded p-1 lc-coef"
                 placeholder="0">
        </td>
        <td class="border p-2">
          <!-- Aquí el JS escribirá:
               "1200 W → 3450 W" con tachado y resaltado -->
          <span class="lc-out">0</span>
        </td>
      </tr>
    </tbody>
  </table>

  <button id="addLc"
    class="mb-3 px-3 py-1 rounded bg-blue-100 text-blue-800 text-sm">
    + Añadir local
  </button>

  <div class="text-sm space-y-1">
    <div>
      Potencia total P<sub>LC</sub>:
      <strong><span id="pLcTotal">0</span> W</strong>
    </div>
    <p class="text-xs text-gray-500">
      Nota: La potencia mínima por local es de <strong>3.450 W</strong> (ITC-BT-10).
      Cuando se aplica este mínimo, el valor calculado aparece tachado.
    </p>
  </div>
</div>
</section>

    

    <!-- PANTALLA 6 · GRUPO DE PRESIÓN -->
   <section class="screen min-w-full snap-start">
    

<!-- =========================
     PANTALLA 6 · GARAJE
========================== -->

<div class="bg-white p-4 rounded-2x1 shadow h-full flex flex-col">
  <h2 class="text-xl font-semibold mb-3">
      Garaje (P<sub>G</sub>)
    </h2>

    <!-- ESTE CONTENEDOR DEBE EXISTIR -->
    <div class="flex-1 overflow-y-auto">

      <!-- Card 6.1 -->
      <div class="card border rounded-xl p-4 bg-white flex flex-col">
        <div class="card border rounded-xl p-4 bg-white">
  <div class="font-semibold mb-1">Fórmula</div>

  <div class="text-base font-medium">
    P<sub>G</sub> = Superficie · W/m²
  </div>

  <p class="text-xs text-gray-500 mt-1">
    Ventilación natural: <strong>10 W/m²</strong> ·  
    Ventilación forzada: <strong>20 W/m²</strong>
  </p>

  <p class="text-xs text-gray-500">
    Potencia mínima por garaje: <strong>3.450 W</strong>
  </p>
</div>


  <p class="text-xs text-gray-500 mt-1">
    k = 10 W/m² (ventilación natural) · k = 20 W/m² (ventilación forzada)
  </p>
</div>


  <p class="text-sm text-gray-600 mb-3">
    Introduce la superficie de cada planta del garaje.
    Si el resultado es inferior al mínimo reglamentario, se aplicará automáticamente.
  </p>

  <div class="flex items-center gap-2 mb-3 text-sm">
    <label>Tipo de ventilación:</label>
    <select id="gType" class="border rounded p-1">
      <option value="natural">Natural (10 W/m² · mín. 3.450 W)</option>
      <option value="forzada">Forzada (20 W/m² · mín. 3.450 W)</option>
    </select>
  </div>

  <table class="w-full text-sm border mb-3">
    <thead class="bg-gray-100 text-center">
      <tr>
        <th class="border p-2">Planta</th>
        <th class="border p-2">Superficie (m²)</th>
      </tr>
    </thead>
    <tbody id="gTable" class="text-center">
      <tr>
        <td class="border p-2">1</td>
        <td class="border p-2">
          <input type="number"
                 class="w-full text-center border rounded p-1 g-input"
                 placeholder="0">
        </td>
      </tr>
    </tbody>
  </table>

  <button id="addG"
    class="mb-3 px-3 py-1 rounded bg-blue-100 text-blue-800 text-sm">
    + Añadir planta
  </button>

  <div class="text-sm space-y-1">
    <div>Suma superficies: <strong><span id="gSum">0</span> m²</strong></div>
    <div>Cálculo base: <strong><span id="gBase">0</span> W</strong></div>
    <div>Mínimo aplicable: <strong><span id="gMin">3.450</span> W</strong></div>
    <div class="mt-2 text-base">
      Resultado: <strong><span id="pGTotal">0</span> W</strong>
    </div>
  </div>
</div>

</section>




    <!-- PANTALLA 7 · GRUPO DE PRESIÓN -->
   <section class="screen min-w-full snap-start">
    

<!-- =========================
     PANTALLA 7 · VEHÍCULOS ELÉCTRICOS
========================== -->

  <div class="bg-white p-4 rounded-2xl shadow h-full flex flex-col">

    <h2 class="text-xl font-semibold mb-3">
      Servicios generales – Recarga de VE (P<sub>VE</sub>)
    </h2>

    <div class="flex-1 flex gap-4 overflow-x-auto snap-x snap-mandatory">

      <!-- Card 7.1 · Cálculo VE -->
      <!-- Card 7.1 · Cálculo VE -->
<div class="card min-w-full snap-start border rounded-xl p-4 bg-white">

  <h3 class="text-lg font-semibold mb-3">
    Cálculo – Puntos de recarga VE (P<sub>VE</sub>)
  </h3>

  <!-- Fórmula -->
  <div class="mb-3 text-sm text-gray-700">
    <div class="font-semibold mb-1">Fórmula</div>
    <div class="text-base font-medium">
      P<sub>VE</sub> = (0,10 · N · 3.680) · F<sub>s</sub>
    </div>
    <p class="text-xs text-gray-500 mt-1">
      N = nº total de plazas de aparcamiento<br>
      3.680 W = potencia por plaza
    </p>
  </div>

  <div class="space-y-3 text-sm">

    <div class="flex items-center gap-2 flex-wrap">
      <label class="w-36">Plazas (N):</label>
      <input id="vePlazas" type="number"
             class="w-24 text-center border rounded p-1"
             placeholder="0">
    </div>

    <div class="flex items-center gap-2 flex-wrap">
      <label class="w-36">Esquema:</label>
      <select id="veMode" class="border rounded p-1">
        <option value="sin">Sin SPL</option>
        <option value="con">Con SPL</option>
      </select>
    </div>

    <div class="flex items-center gap-2 flex-wrap">
      <label class="w-36">Factor F<sub>s</sub>:</label>
      <span id="veFs" class="px-2 py-1 border rounded bg-gray-50">1</span>
    </div>

    <div class="flex items-center gap-2 flex-wrap">
      <label class="w-36">Base (10% · N · 3.680):</label>
      <span id="veBase" class="px-2 py-1 border rounded bg-gray-50">0</span>
      <span>W</span>
    </div>

  </div>

  <p class="mt-4 text-sm">
    Resultado:
    <strong><span id="pVeTotal">0</span> W</strong>
  </p>
</div>
    </section>









<!-- =========================
     PANTALLA 0 · RESUMEN
========================== -->
<section class="screen min-h-full snap-start p-4">
  <div class="bg-white p-4 rounded-2xl shadow h-full flex flex-col">

    <h2 class="text-xl font-semibold mb-3">
      Resumen de previsión de cargas
    </h2>

    <div class="flex-1 overflow-y-auto text-sm space-y-3">

      <div class="flex justify-between border-b pb-1">
        <span>Viviendas (P<sub>V</sub>)</span>
        <strong><span id="rPV">0</span> W</strong>
      </div>

      <div class="flex justify-between border-b pb-1">
        <span>Ascensores (P<sub>SG</sub>)</span>
        <strong><span id="rAsc">0</span> W</strong>
      </div>

      <div class="flex justify-between border-b pb-1">
        <span>Grupo de presión (P<sub>GP</sub>)</span>
        <strong><span id="rGP">0</span> W</strong>
      </div>

      <div class="flex justify-between border-b pb-1">
        <span>Alumbrado (P<sub>AL</sub>)</span>
        <strong><span id="rAL">0</span> W</strong>
      </div>

      <div class="flex justify-between border-b pb-1">
        <span>Locales y oficinas (P<sub>LC</sub>)</span>
        <strong><span id="rLC">0</span> W</strong>
      </div>

      <div class="flex justify-between border-b pb-1">
        <span>Garaje (P<sub>G</sub>)</span>
        <strong><span id="rG">0</span> W</strong>
      </div>

      <div class="flex justify-between border-t pt-2 text-base">
        <span class="font-semibold">TOTAL</span>
        <strong><span id="rTotal">0</span> W</strong>
      </div>

    </div>

    <p class="text-xs text-gray-500 mt-3">
      Este resumen se actualiza automáticamente a medida que completas cada cálculo.
    </p>
  </div>
</section>



























    










   

   





    
   







  </main>

  <script src="ITC-BT-10.js"></script>


  <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>


